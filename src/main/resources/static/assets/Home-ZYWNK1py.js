import{h as u,_,c as p,u as g,a as h,b as n,o as r,d as s,n as b,t as c,r as f,e as w,F as v,f as y,g as x}from"./index-mjseeehd.js";import{a as S}from"./CartService-B2We45et.js";const $=()=>u.get("/v1/api/items").catch(a=>a.response),I={class:"card shadow-sm"},P=["aria-label"],k={class:"card-body"},N={class:"card-text"},B={class:"me-2"},C={class:"discount badge bg-danger"},L={class:"d-flex justify-content-between align-items-center"},D={class:"price text-muted"},F={class:"real text-danger"},R={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number}},setup(a){const t=a,e=p(()=>(t.item.price-t.item.price*t.item.discountPer/100).toLocaleString()+"원"),i=g(),o=h(),l=async()=>{if(!o.loggedIn){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&await i.push("/login");return}(await S(t.item.id)).status===200&&window.confirm("장바구니에 상품을 담았습니다. 장바구니로 이동하시겠습니까?")&&await i.push("/cart")};return(m,d)=>(r(),n("div",I,[s("span",{class:"img",style:b({backgroundImage:`url(${t.item.imgPath})`}),"aria-label":`상품 사진(${t.item.name})`},null,12,P),s("div",k,[s("p",N,[s("span",B,c(t.item.name),1),s("span",C,c(t.item.discountPer)+"%",1)]),s("div",L,[s("button",{class:"btn btn-primary btn-sm",onClick:d[0]||(d[0]=E=>l())},"장바구니 담기"),s("small",D,c(t.item.price.toLocaleString())+"원",1),s("small",F,c(e.value),1)])])]))}},V=_(R,[["__scopeId","data-v-d1788e7b"]]),j={class:"home"},q={class:"album py-5 bg-light"},z={class:"container"},A={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},G={__name:"Home",setup(a){const t=f({items:[]});return w(async()=>{try{const e=await $();e.status===200&&(t.items=[...e.data])}catch(e){console.error("데이터 로드 실패:",e)}}),(e,i)=>(r(),n("div",j,[s("div",q,[s("div",z,[s("div",A,[(r(!0),n(v,null,y(t.items,o=>(r(),n("div",{class:"col",key:o.id},[x(V,{item:o},null,8,["item"])]))),128))])])])]))}};export{G as default};
